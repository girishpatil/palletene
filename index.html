<!-- 

Name : Palletene
Author : Girish Patil
Description : A single html file to manage a pallette built on the classic html localstorage with 
			- One click select color code
			- Double click delete the color code
			- Reset the entire pallete
			- Check github.com/girishpatil for more updates


	#########
	##		##
	##		##
	#########
	##
	##	
	## alletene - your handy pallete manager

-->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Palletene</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
	<style>
	img,legend{border:0}legend,td,th{padding:0}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}table{border-collapse:collapse;border-spacing:0}
</style>
<style>
.column,.columns,.container,.u-full-width{width:100%;box-sizing:border-box}h1,h2,h3{letter-spacing:-.1rem}body,h6{line-height:1.6}.container{position:relative;max-width:960px;margin:0 auto;padding:0 20px}ol,p,ul{margin-top:0}.column,.columns{float:left}@media (min-width:400px){.container{width:85%;padding:0}}html{font-size:62.5%}body{font-size:1.5em;font-weight:400;font-family:Raleway,HelveticaNeue,"Helvetica Neue",Helvetica,Arial,sans-serif;color:#222}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:2rem;font-weight:300}h1{font-size:4rem;line-height:1.2}h2{font-size:3.6rem;line-height:1.25}h3{font-size:3rem;line-height:1.3}h4{font-size:2.4rem;line-height:1.35;letter-spacing:-.08rem}h5{font-size:1.8rem;line-height:1.5;letter-spacing:-.05rem}h6{font-size:1.5rem;letter-spacing:0}@media (min-width:550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{width:100%;margin-left:0}.one-third.column{width:30.6666666667%}.two-thirds.column{width:65.3333333333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.66666666667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.3333333333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.6666666667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.3333333333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.6666666667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.3333333333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.6666666667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.3333333333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.6666666667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.3333333333%}.offset-by-one-half.column,.offset-by-one-half.columns{margin-left:52%}h1{font-size:5rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}a{color:#1EAEDB}a:hover{color:#0FA0CE}.button,button,input[type=submit],input[type=reset],input[type=button]{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:11px;font-weight:600;line-height:38px;letter-spacing:.1rem;text-transform:uppercase;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:4px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}.button:focus,.button:hover,button:focus,button:hover,input[type=submit]:focus,input[type=submit]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=button]:focus,input[type=button]:hover{color:#333;border-color:#888;outline:0}.button.button-primary,button.button-primary,input[type=submit].button-primary,input[type=reset].button-primary,input[type=button].button-primary{color:#FFF;background-color:#33C3F0;border-color:#33C3F0}.button.button-primary:focus,.button.button-primary:hover,button.button-primary:focus,button.button-primary:hover,input[type=submit].button-primary:focus,input[type=submit].button-primary:hover,input[type=reset].button-primary:focus,input[type=reset].button-primary:hover,input[type=button].button-primary:focus,input[type=button].button-primary:hover{color:#FFF;background-color:#1EAEDB;border-color:#1EAEDB}input[type=tel],input[type=url],input[type=password],input[type=email],input[type=number],input[type=search],input[type=text],select,textarea{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #D1D1D1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type=tel],input[type=url],input[type=password],input[type=email],input[type=number],input[type=search],input[type=text],textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{min-height:65px;padding-top:6px;padding-bottom:6px}input[type=tel]:focus,input[type=url]:focus,input[type=password]:focus,input[type=email]:focus,input[type=number]:focus,input[type=search]:focus,input[type=text]:focus,select:focus,textarea:focus{border:1px solid #33C3F0;outline:0}label,legend{display:block;margin-bottom:.5rem;font-weight:600}fieldset{padding:0;border-width:0}input[type=checkbox],input[type=radio]{display:inline}label>.label-body{display:inline-block;margin-left:.5rem;font-weight:400}ul{list-style:circle inside}ol{list-style:decimal inside}ol,ul{padding-left:0}ol ol,ol ul,ul ol,ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}.button,button,li{margin-bottom:1rem}code{padding:.2rem .5rem;margin:0 .2rem;font-size:90%;white-space:nowrap;background:#F1F1F1;border:1px solid #E1E1E1;border-radius:4px}pre>code{display:block;padding:1rem 1.5rem;white-space:pre}td,th{padding:12px 15px;text-align:left;border-bottom:1px solid #E1E1E1}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}.u-max-full-width{max-width:100%;box-sizing:border-box}.u-pull-right{float:right}.u-pull-left{float:left}hr{margin-top:3rem;margin-bottom:3.5rem;border-width:0;border-top:1px solid #E1E1E1}.container:after,.row:after,.u-cf{content:"";display:table;clear:both}
</style>
<style>
.section{text-align:center;padding:2rem 0;}
/*Navbar*/
.navbar + .docs-section{border-top-width:0;}
.navbar,.navbar-spacer{display:block;width:100%;height:6.5rem;background:#fff;z-index:99;border-top:1px solid #eee;border-bottom:1px solid #eee;}
.navbar-spacer{display:none;}
.navbar > .container{width:100%;}
.navbar-list{list-style:none;margin-bottom:0;}
.navbar-item{position:relative;float:left;margin-bottom:0;}
.navbar-link{text-transform:uppercase;font-size:11px;font-weight:600;letter-spacing:.2rem;margin-right:35px;text-decoration:none;line-height:6.5rem;color:#222;}
.navbar-link.active{color:#33C3F0;}
.has-docked-nav .navbar{position:fixed;top:0;left:0;}
.has-docked-nav .navbar-spacer{display:block;}
.has-docked-nav .navbar > .container{width:80%;}
.logo{font-size: 2rem;}	
.inline-form{margin:0;padding:1rem;}
.right{float: right;}
.center{text-align: center;}
#pallete_container > a {border-radius: 3rem 0rem;padding: 2rem;margin: 1rem;text-decoration: none;color: #7b7b7b;font-weight: 600;font-size: 2rem;}
#pallete_container > a > span{position: relative;top: 5rem;}
.reset{position: absolute;right: 0;bottom: 0;margin: 1rem;}
</style>
<link rel="icon" type="image/png" href="images/favicon.png">
</head>

<body>
	<nav class="navbar">
		<div class="container">		
			<ul class="navbar-list">
				<li class="navbar-item"><a href="/" class="navbar-link logo">Palletene</a></li>
				<li class="navbar-item right">
					<form class="inline-form" action="#" onsubmit="return pltts.handle_new_color( this );" >
						<div class="row">
							<input type="text" name="hex" placeholder="hex please">
							<button type="submit">Submit</button>							
						</div>
					</form>					
				</li>
			</ul>
		</div>
	</nav>
	<div class="section">
		<div class="container">
			<p>&#9632; Click to copy the color code &#9632;  Double click to delete a color &#9632;</p>	
		</div>
	</div>
	<div class="section">
		<div id="container">
			<div class="container-wrap">
				<div id="pallete_container">
				</div>
			</div>
		</div>		
	</div>
	<button id="reset" class="reset">Reset</button>
	<script type="text/javascript">

// Complete pltts class and handling everythin from creating,selecting and deleting.

pltts = {
	cur_position : 0,

	init : function(){
		if(localStorage.pallete_main===undefined){
			this.pallete_main = [];
		}
		else{
			this.pallete_main = JSON.parse(localStorage.pallete_main);
			this.update_page();
		}
		var resetButton = document.getElementById('reset');
		resetButton.addEventListener("click",pltts.handle_reset);
	},

	focus_this_color : function( c ){
		colors = localStorage.pallete_main;

		for(i=0;i<colors.length;i++){
			if(colors[i] === c){
				console.log(i+1 + 'th position');
			}
		}
	},

	check_if_color_present :function ( c ){
		colors = localStorage.pallete_main;
		if(colors != undefined && colors!=null){
			colors = JSON.parse(localStorage.pallete_main);
			if(colors.length > 0 ){
				for(i=0;i<colors.length;i++){
					if(colors[i] === c){
						return true;
					}
				}
			}
		}
		return false;
	},


	handle_new_color : function( f ){	
		color = f.elements.hex.value;
		color = (color.length > 6 ) ? color.slice(1) : color;
		if(color!= undefined && color != null){

			if(this.check_if_color_present( color )){

				window.location = '#'+color;
				this.focus_this_color(color);
				this.new_modal(color + " already present");

			}else{

				colors = localStorage.pallete_main;

				localStorage.pallete_main = this.pallete_main;
				this.pallete_main.push(color);
				localStorage.pallete_main = JSON.stringify(this.pallete_main);
			// pltts.update_page();
			window.location = "";

		}

	}

	f.reset(); //reset the form

	return false;

},
update_page : function(){

	colors = JSON.parse(localStorage.pallete_main);
	cParEle = document.getElementById('pallete_container');

	cParEle.innerHTML = '';
	if(colors != undefined && colors !=null){
		if(colors.length > 0){
			this.cur_position = colors.length;
			k = (this.cur_position!=undefined || this.cur_position !=0) ? 0 : this.cur_position;
			for(i=k;i<colors.length;i++){
				var cEle = document.createElement("a");
				cEle.href = '#'+colors[i];
				cEle.id = '#'+colors[i];
				cEle.className = 'plc';
				cEle.innerHTML = '<span>#'+colors[i]+'</span>';
				cEle.style.backgroundColor = '#'+colors[i];
				cParEle.appendChild(cEle);

				cEle.addEventListener("click",this.handle_color_click);
				cEle.addEventListener("dblclick",this.handle_del_color);
			}
		}
	}
	else{
		cParEle.textContent = "You have no colors";
	}

},
handle_del_color : function( e ){
	c = e.target.id;
	colors = JSON.parse(localStorage.pallete_main);
	new_color_stack = [];
	for(i=0;i<colors.length;i++){
		if('#'+colors[i] != c){
			new_color_stack.push(colors[i]);
		}
	}
	localStorage.pallete_main = JSON.stringify(new_color_stack);
	
	// pltts.update_page();
	window.location = "";


},

handle_color_click : function( e ){

	console.log(e.target.id);
	var fakeEle = document.createElement("textarea");
	fakeEle.innerHTML = e.target.id;
	document.body.appendChild(fakeEle);
	fakeEle.select();
	document.execCommand("copy",false,null);
	fakeEle.style.display = "none";
},



handle_reset : function (){

	if(confirm("This will result in erasing all you palletes and colors added so far.Do you wanna proceed ? ")){
		localStorage.clear();
	}
		// pltts.update_page();
		window.location = "";
		
	},

	new_modal : function( content ){

		content = (content!=null) ? content : "Oops!! nothing to show";

		mEle = document.createElement("div");
		mEle.className = "modal";
		mEle_inner = document.createElement("div");
		mEle_inner.className = "modal-content";
		mEle_inner.textContent = content;	
		mEle.appendChild(mEle_inner);
		par_ele = document.getElementById('container');
		par_ele.appendChild(mEle);

		window.setTimeout(function() {
			modal = document.getElementsByClassName("modal");
			for(i=0;i<modal.length;i++)
				modal[i].style.opacity = 0;}, 2000);
	}


} //End of pltts class


// Load the page with stuff

pltts.init();



</script>


</body>
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-101449992-1', 'auto');
	ga('send', 'pageview');

</script>
</html>
